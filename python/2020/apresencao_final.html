<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introdução à análise de dados</title>
    <meta charset="utf-8" />
    <meta name="author" content="Felipe Carvalho &amp; Felipe Menino" />
    <meta name="date" content="2020-01-28" />
    <link href="libs/font-awesome-animation/font-awesome-animation-emi.css" rel="stylesheet" />
    <script src="libs/fontawesome/js/fontawesome-all.min.js"></script>
    <link rel="stylesheet" href="scrollable.css" type="text/css" />
    <link rel="stylesheet" href="mtheme_max.css" type="text/css" />
    <link rel="stylesheet" href="fonts_mtheme_max.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">






class: title-slide   
&lt;a href="https://github.com/dataAt/intro-analise-de-dados-apresentacao" class="github-corner" aria-label="Código no Github"&gt;&lt;svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"&gt;&lt;path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"&gt;&lt;/path&gt;&lt;path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"&gt;&lt;/path&gt;&lt;path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;style&gt;.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}&lt;/style&gt;

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
# .font200[Introdução à análise de dados] 

### Felipe Carvalho &amp; Felipe Menino
### Janeiro 2020

---
# Agenda

&lt;br&gt;&lt;br&gt;&lt;br&gt;


- .font120[Revisão da linguagem R <span>&lt;i class="fab  fa-r-project faa-float animated faa-slow " style=" color:steelblue;"&gt;&lt;/i&gt;</span>]

- .font120[Pacote Tidyverse <span class=" faa-float animated faa-slow " style=" display: -moz-inline-stack; display: inline-block; transform: rotate(0deg);">&lt;img src="./images/2_r_img/logo_tidyverse_menor.png" style="height:1em; width:auto; "/&gt;</span>]

- .font120[Introdução à linguagem Python <span>&lt;i class="fab  fa-python faa-pulse animated-hover "&gt;&lt;/i&gt;</span>]

  - .font120[Pandas <span>&lt;i class="fas  fa-smile faa-pulse animated-hover "&gt;&lt;/i&gt;</span>]

- .font120[Visualização de dados <span class=" faa-float animated faa-slow " style=" display: -moz-inline-stack; display: inline-block; transform: rotate(0deg);">&lt;img src="./images/2_r_img/ggplot2_logo_menor.jpeg" style="height:1em; width:auto; "/&gt;</span>]

&lt;br&gt;

&lt;!-- Inicio da parte do R--&gt;

---

class: title-slide

&lt;br&gt;&lt;br&gt;&lt;br&gt;
# .center.font170[Revisão da linguagem .bold[R]]
---

# História do R

.font120[
**R** é uma linguagem de programação de alto nível com ambiente voltado para visualização e análise de dados. Em essência foi inspirada na linguagem de programação **S**. Foi iniciamente escrita por **R**oss Ihaka e **R**obert Gentleman no departamento de estatística da universidade de Auckland.
]

.pull-left[

&lt;img src="./images/2_r_img/robert_gentleman.jpg" width="50%" height="50%" style="display: block; margin: auto;" /&gt;

.center.font70[Robert Gentleman]

]

.pull-right[

&lt;img src="./images/2_r_img/ross_lhaka.jpeg" width="45%" height="45%" style="display: block; margin: auto;" /&gt;

.center.font70[Ross Ihaka]

]

---

# Conceitos básicos

## Atribuimos valor usando uma seta .bold[`&lt;-`] apontada para a variável

&lt;br&gt;


.pull-left[

.center.font100[Declaração de variáveis]


```r
  inteiro &lt;- 321L

  numerico &lt;- 123
  
  complexo &lt;- 321i
  
  booleano &lt;- TRUE 
  
  caractere &lt;- "Bem-vindos"
```

]

--
.pull-right[
.center.font100[Acessando os valores]


```r
  print(numerico)
## [1] 123

  caractere
## [1] "Bem-vindos"
```
]


---

# Tipos de dados estruturados

### Podemos declarar um vetor usando .bold[`c()`] e uma lista usando .bold[`list()`]

.pull-left[

.center.font100[Vetores]


```r
  vetor_int &lt;-   c(1, 3, 5)

  vetor_char &lt;- c("teste", "teste", "teste")
  
  vetor_bool &lt;- c(TRUE, TRUE, FALSE)
```



```r
  vetor_int
## [1] 1 3 5
```

]

.pull-right[

.center.font100[Listas]


```r
  lista_int &lt;-   list(1, 3, 5)

  lista_lista &lt;- list(1, 2.3, list("tres"))
```



```r
  lista_lista
## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2.3
## 
## [[3]]
## [[3]][[1]]
## [1] "tres"
```

]

---

# Qual é a diferença?

--

.pull-left[

.bold[Vetores são atômicos, só aceitam um tipo]


```r
  vetor_diferente &lt;- c(1, 2.5, TRUE, "ola")
  
  vetor_diferente
## [1] "1"    "2.5"  "TRUE" "ola"
```


```r
  is.atomic(vetor_diferente)
## [1] TRUE
```

]

.pull-right[

.bold[Lista não são atômicas, aceitam diversos tipos:]


```r
  lista_diferente &lt;- list(1, TRUE, "ola")
  lista_diferente
## [[1]]
## [1] 1
## 
## [[2]]
## [1] TRUE
## 
## [[3]]
## [1] "ola"
```


```r
  is.atomic(lista_diferente)
## [1] FALSE
```
]

---

# Pense em vetores!

Todos os tipos primitivos em R são tratados como vetores:

.pull-left[


```r
  lista &lt;- list(1, 2, list("ola", FALSE))

  lista
## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [[3]][[1]]
## [1] "ola"
## 
## [[3]][[2]]
## [1] FALSE
```

]

--

.pull-right[

.center.font100[Será lista?]


```r
  is.list(lista)
## [1] TRUE
```

.center.font100[Será vetor?]


```r
  is.vector(lista[[3]][[2]])
## [1] TRUE
```

.center.font100[Será vetor?]


```r
  is.vector(42)
## [1] TRUE
```

]
---

# Hierarquia de tipo primitivos

### O .bold[R] possui uma conversão de tipos, sendo assim, garantindo que todo vetor seja atômico.

.center[
&lt;img src="./images/2_r_img/tipos.png" width="80%" height="80%" style="display: block; margin: auto;" /&gt;
R 4 Data Science - Hadley
]


---

# Hierarquia de tipo primitivos

.pull-left[
#### Os tipos mais fortes são:
.blue[
1. character
2. complex
3. numeric
4. logical]
]


.pull-right[
#### Conversão:


```r
v1 &lt;- c(FALSE, "tipo", 5)
```
]

---

# Hierarquia de tipo primitivos

.pull-left[
#### Os tipos mais fortes são:
.blue[
1. character
2. complex
3. numeric
4. logical]
]


.pull-right[
#### Conversão:


```r
v1 &lt;- c(FALSE, "tipo", 5)
v1
## [1] "FALSE" "tipo"  "5"
```
]


---

# Hierarquia de tipo primitivos

.pull-left[
#### Os tipos mais fortes são:
.blue[
1. character
2. complex
3. numeric
4. logical]
]


.pull-right[
#### Conversão:


```r
v1 &lt;- c(FALSE, "tipo", 5)
v1
## [1] "FALSE" "tipo"  "5"
```


```r
v2 &lt;- c(32, 1, 5i)
```

]

---

# Hierarquia de tipo primitivos

.pull-left[
#### Os tipos mais fortes são:
.blue[
1. character
2. complex
3. numeric
4. logical]
]


.pull-right[
#### Conversão:


```r
v1 &lt;- c(FALSE, "tipo", 5)
v1
## [1] "FALSE" "tipo"  "5"
```


```r
v2 &lt;- c(32, 1, 5i)
v2
## [1] 32+0i  1+0i  0+5i
```
]


---

# Hierarquia de tipo primitivos

.pull-left[
#### Os tipos mais fortes são:
.blue[
1. character
2. complex
3. numeric
4. logical]
]


.pull-right[
#### Conversão:


```r
v1 &lt;- c(FALSE, "tipo", 5)
v1
## [1] "FALSE" "tipo"  "5"
```


```r
v2 &lt;- c(32, 1, 5i)
v2
## [1] 32+0i  1+0i  0+5i
```

#### Tipos:

```r
typeof(v1)
## [1] "character"
```


```r
typeof(v2)
## [1] "complex"
```
]

---
# Data Frame

Matriz composta por linhas e colunas, cujas colunas representam as variáveis (atributos) e as linhas representam observações

&lt;br&gt;

.center[
&lt;img src="./images/2_r_img/df_definicao.png" width="60%" height="60%" style="display: block; margin: auto;" /&gt;
]

---
# Data Frame

Matriz composta por linhas e colunas, cujas colunas representam as variáveis (atributos) e as linhas representam observações

.pull-left[
.center.font100[Podemos criar um dataframe usando .bold[data.frame()]]


```r
    meu_df &lt;- data.frame(
      nome=c("Ana", "João"),
      idade=c(23, 24),
      cargo=c("Cientista", "Analista")
      )
  meu_df
##   nome idade     cargo
## 1  Ana    23 Cientista
## 2 João    24  Analista
```

]

.pull-right[
.center.font100[Acessando os atributos]


```r
  meu_df$nome
## [1] Ana  João
## Levels: Ana João
```


.center.font100[Tipo]


```r
  typeof(meu_df)
## [1] "list"
```


.center.font100[Classe]


```r
  class(meu_df)
## [1] "data.frame"
```

]


---
# Estrutura de decisão

O .bold[.blue[if]] do .bold[R] é bem parecido com o do .bold[Java]



```r
  valor_a &lt;- 21
  valor_b &lt;- 42
  
  if(valor_a &lt; valor_b){ 
    print("Valor A menor do que o valor B")
  } else if(valor_a == valor_b){
    print("Valor A é igual ao valor B")
  } else {
    print("Valor A é maior do que o valor B")
  }
## [1] "Valor A menor do que o valor B"
```


--

## Dica


```r
    ifelse(42 &gt; TRUE, "Verdade universal", "Fake news")
## [1] "Verdade universal"
```

---

# Estrutura de repetição

Por outro lado, o .bold[.blue[for]] do .bold[R] com a sintaxe do .bold[Python]



```r
  meu_vetor &lt;- c(1, 2, 3)
  
  for(i in meu_vetor){
    print(i)
  }
## [1] 1
## [1] 2
## [1] 3
```
---

class: title-slide

# .center.font170[Pacote Tidyverse &lt;img src="./images/2_r_img/logo_tidyverse.png" width="373" style="display: block; margin: auto;" /&gt;]
---

# Tidyverse

.pull-left[

.center.font100[Conjunto de pacotes em R para ciência de dados]

&lt;img src="./images/2_r_img/tidy_workflow.png" width="100%" height="100%" style="display: block; margin: auto;" /&gt;
.center.font50[http://www.seec.uct.ac.za/r-tidyverse]

]

--

.pull-right[

.center.font100[Processo de ciência de dados]

&lt;img src="./images/2_r_img/data-science-process.png" width="100%" height="100%" style="display: block; margin: auto;" /&gt;

.center.font50[Doing Data Science - Rachel Schutt]


]

---

# Tidyverse

.pull-left[

.center.font100[Conjunto de pacotes em R para ciência de dados]

&lt;img src="./images/2_r_img/tidy_workflow_1.png" width="100%" height="100%" style="display: block; margin: auto;" /&gt;
.center.font50[http://www.seec.uct.ac.za/r-tidyverse]

]

.pull-right[

.center.font100[Processo de ciência de dados]

&lt;img src="./images/2_r_img/data-science-process_1.png" width="100%" height="100%" style="display: block; margin: auto;" /&gt;

.center.font50[Doing Data Science - Rachel Schutt]
]

---

# Tidyverse

.pull-left[

.center.font100[Conjunto de pacotes em R para ciência de dados]

&lt;img src="./images/2_r_img/tidy_workflow_2.png" width="100%" height="100%" style="display: block; margin: auto;" /&gt;
.center.font50[http://www.seec.uct.ac.za/r-tidyverse]

]

.pull-right[

.center.font100[Processo de ciência de dados]

&lt;img src="./images/2_r_img/data-science-process_2.png" width="100%" height="100%" style="display: block; margin: auto;" /&gt;

.center.font50[Doing Data Science - Rachel Schutt]
]

---

# Tidyverse

.pull-left[

.center.font100[Conjunto de pacotes em R para ciência de dados]

&lt;img src="./images/2_r_img/tidy_workflow_3.png" width="100%" height="100%" style="display: block; margin: auto;" /&gt;
.center.font50[http://www.seec.uct.ac.za/r-tidyverse]

]

.pull-right[

.center.font100[Processo de ciência de dados]

&lt;img src="./images/2_r_img/data-science-process_3.png" width="100%" height="100%" style="display: block; margin: auto;" /&gt;

.center.font50[Doing Data Science - Rachel Schutt]
]
---

# Leitura e escrita de dados - .bold[readr]

.pull-left[
.center.font100[Leitura]



```r
  library(readr)
  
  # Leitura dos dados
  star_wars &lt;- 
    readr::read_csv(file = "~/R/starwars.csv")
## Parsed with column specification:
## cols(
##   name = col_character(),
##   height = col_double(),
##   mass = col_double(),
##   hair_color = col_character(),
##   skin_color = col_character(),
##   eye_color = col_character(),
##   birth_year = col_double(),
##   gender = col_character(),
##   homeworld = col_character(),
##   species = col_character()
## )
```

]

.pull-right[
.center.font100[Escrita]


```r
  # escrita 
  readr::write_csv(x = star_wars,
                   path = "/home/felipe/dado.csv")
```

]
---

# Manipulação de dados - .bold[dplyr]

Para manipular nosso dataframe, vamos usar o pacote .blue[dplyr]. Métodos básicos:

.center[
&lt;img src="./images/2_r_img/dplyr_verbs.jpg" width="70%" height="70%" style="display: block; margin: auto;" /&gt;

.center.font80[R for Data Science - Garrett Grolemund]
]

---

# Seleção e Filtro


.pull-left[

Para facilitar a seleção dos atributos e tirar .bold[.blue[$]], vamos usar o .bold[.blue[select()]]:


```r
  library(dplyr)

  selecao &lt;- 
    dplyr::select(star_wars, name, hair_color)
  
  head(selecao, 3)
## # A tibble: 3 x 2
##   name           hair_color
##   &lt;chr&gt;          &lt;chr&gt;     
## 1 Luke Skywalker blond     
## 2 C-3PO          &lt;NA&gt;      
## 3 R2-D2          &lt;NA&gt;
```
]


.pull-right[

Para filtrar por um valor específico, usamos .bold[.blue[filter()]]:


```r
  filtro &lt;- 
    dplyr::filter(star_wars, species == "Droid" &amp; skin_color == "gold")
  
  filtro
## # A tibble: 1 x 10
##   name  height  mass hair_color skin_color eye_color birth_year gender homeworld
##   &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    
## 1 C-3PO    167    75 &lt;NA&gt;       gold       yellow           112 &lt;NA&gt;   Tatooine 
## # … with 1 more variable: species &lt;chr&gt;
```
]

---

# Agrupamento e agregação

.pull-left[
Para criar grupos usamos a função .bold[.blue[group_by()]]

```r
  agrupamento &lt;- 
    dplyr::group_by(star_wars, species)
  
  head(agrupamento, 3)
## # A tibble: 3 x 10
## # Groups:   species [2]
##   name  height  mass hair_color skin_color eye_color birth_year gender homeworld
##   &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    
## 1 Luke…    172    77 blond      fair       blue              19 male   Tatooine 
## 2 C-3PO    167    75 &lt;NA&gt;       gold       yellow           112 &lt;NA&gt;   Tatooine 
## 3 R2-D2     96    32 &lt;NA&gt;       white, bl… red               33 &lt;NA&gt;   Naboo    
## # … with 1 more variable: species &lt;chr&gt;
```
]

.pull-right[
Para criarmos uma agregação do nosso agrupamento, usamos .bold[.blue[summarise()]] e para ordenarmos .bold[.blue[arrange()]]:

```r
  media_grupo &lt;- 
    dplyr::summarise(agrupamento, 
                     media = mean(height, na.rm = TRUE)) 
  
  media_grupo_order &lt;- 
    dplyr::arrange(media_grupo, desc(media))

  head(media_grupo_order, 3)
## # A tibble: 3 x 2
##   species  media
##   &lt;chr&gt;    &lt;dbl&gt;
## 1 Quermian   264
## 2 Wookiee    231
## 3 Kaminoan   221
```
]
---
# Transformação de atributos

Para criar/transformar novos atributos, usa-se .bold[.blue[mutate()]]:


```r
  # conversão de cm para metros
  star_wars &lt;- 
  dplyr::mutate(star_wars, height = height/100)
  
  head(star_wars, 3)
## # A tibble: 3 x 10
##   name  height  mass hair_color skin_color eye_color birth_year gender homeworld
##   &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    
## 1 Luke…   1.72    77 blond      fair       blue              19 male   Tatooine 
## 2 C-3PO   1.67    75 &lt;NA&gt;       gold       yellow           112 &lt;NA&gt;   Tatooine 
## 3 R2-D2   0.96    32 &lt;NA&gt;       white, bl… red               33 &lt;NA&gt;   Naboo    
## # … with 1 more variable: species &lt;chr&gt;
```
---

# Aplicando os métodos


```r
  # Seleção
  selecao &lt;- 
    dplyr::select(star_wars, -hair_color, -mass)

  # Filtro 
  filtro &lt;- 
    dplyr::filter(selecao, eye_color == "blue")
  
  # Agrupamento
  agrupamento &lt;- 
    dplyr::group_by(filtro, species)
  
  # Agregação
   media_grupo &lt;- 
    dplyr::summarise(agrupamento, media = mean(height, na.rm = TRUE)) 
    
  # Ordenação
   media_grupo_order &lt;- 
     dplyr::arrange(media_grupo, desc(media))
```


```
## # A tibble: 3 x 2
##   species    media
##   &lt;chr&gt;      &lt;dbl&gt;
## 1 Wookiee     2.31
## 2 Chagrian    1.96
## 3 Tholothian  1.84
```

---

# Facilitando a vida com o operador .bold[pipe] (.bold[%&gt;%])

O .bold[.blue[pipe]] passa a resposta da primeira atribuição para o primeiro parâmetro da função seguinte:



```r
  library(magrittr)

  media_grupo &lt;- star_wars %&gt;%
    dplyr::select(-hair_color, -mass) %&gt;%
    dplyr::filter(eye_color == "blue") %&gt;%
    dplyr::group_by(species) %&gt;%
    dplyr::summarise(media = 
                       mean(height, na.rm = TRUE)) %&gt;%
    dplyr::arrange(desc(media))
```


```r
     head(media_grupo, 2)
## # A tibble: 2 x 2
##   species  media
##   &lt;chr&gt;    &lt;dbl&gt;
## 1 Wookiee   2.31
## 2 Chagrian  1.96
```

---

# Facilitando a vida com o operador .bold[pipe] (.bold[%&gt;%])

.pull-left[
.center.font100[Sem pipe]


```r
  # Seleção
  selecao &lt;-
    dplyr::select(star_wars, -hair_color, -mass)

  # Filtro 
  filtro &lt;- 
    dplyr::filter(selecao, eye_color == "blue")
  
  # Agrupamento
  agrupamento &lt;- 
    dplyr::group_by(filtro, species)
  
  # Agregação
   media_grupo &lt;- 
    dplyr::summarise(agrupamento, 
                     media = mean(height, na.rm = TRUE)) 
  
  # Ordenação 
   media_grupo_order &lt;- 
     dplyr::arrange(media_grupo, desc(media))
```
]

.pull-right[
.center.font100[Com pipe]


```r
   media_grupo &lt;- star_wars %&gt;%
    dplyr::select(-hair_color, -mass) %&gt;%
    dplyr::filter(eye_color == "blue") %&gt;%
    dplyr::group_by(species) %&gt;%
    dplyr::summarise(media = 
                       mean(height, na.rm = TRUE)) %&gt;%
    dplyr::arrange(desc(media))
```
]


---

# Exemplo de análise

Dado de série temporal da [temperatura da superfície terrestre](https://www.kaggle.com/berkeleyearth/climate-change-earth-surface-temperature-data)

&lt;img src="./images/2_r_img/kaggle_img.png" width="65%" height="65%" style="display: block; margin: auto;" /&gt;


---

# Exemplo de análise


```r
  # Leitura dos dados de mudança climática
  temperature_countries &lt;-
  readr::read_csv("./data/GlobalLandTemperaturesByCountry.csv")

  # Leitura e seleção dos dados de continentes
  continent &lt;- 
    readr::read_csv("./data/countryContinent.csv") %&gt;%
    dplyr::select(country, continent) # Seleção do atributo continente
```


```r
  head(temperature_countries, 2)
## # A tibble: 2 x 4
##   dt         AverageTemperature AverageTemperatureUncertainty Country
##   &lt;date&gt;                  &lt;dbl&gt;                         &lt;dbl&gt; &lt;chr&gt;  
## 1 1743-11-01               4.38                          2.29 Åland  
## 2 1743-12-01              NA                            NA    Åland
```


```r
  tail(temperature_countries, 2)
## # A tibble: 2 x 4
##   dt         AverageTemperature AverageTemperatureUncertainty Country 
##   &lt;date&gt;                  &lt;dbl&gt;                         &lt;dbl&gt; &lt;chr&gt;   
## 1 2013-08-01               19.8                         0.717 Zimbabwe
## 2 2013-09-01               NA                          NA     Zimbabwe
```

---
# Exemplo de análise


.pull-left[

.center.font100[Filtro a partir do ano 2000 e extração da média anual]



```r
  # Filtro a partir do ano 2000 e extração da média anual 
  year_temperature &lt;- temperature_countries %&gt;%
    dplyr::filter(dt &gt; "2000-01-01")  %&gt;% 
    dplyr::mutate(dt = lubridate::year(dt)) %&gt;% 
    dplyr::group_by(Country, dt) %&gt;% 
    dplyr::summarise(year_mean = mean(AverageTemperature)) 
```


```
## # A tibble: 3 x 3
## # Groups:   Country [1]
##   Country        dt year_mean
##   &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;
## 1 Afghanistan  2000      16.7
## 2 Afghanistan  2001      15.8
## 3 Afghanistan  2002      15.5
```


]

.pull-right[

.center.font100[Junção dos continentes com cada país]


```r
  continent_temperature &lt;- year_temperature %&gt;% 
    dplyr::rename(country = Country) %&gt;%
    dplyr::left_join(continent, by="country") %&gt;% 
    dplyr::filter(!is.na(continent))  
```


```
## # A tibble: 3 x 4
## # Groups:   country [1]
##   country        dt year_mean continent
##   &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;    
## 1 Afghanistan  2000      16.7 Asia     
## 2 Afghanistan  2001      15.8 Asia     
## 3 Afghanistan  2002      15.5 Asia
```
]
--
.center.font90[.bold[

Qual o continente que registrou a maior temperatura anual?

Qual o ano com a maior média de temperatura registrada?]]

---

# Exemplo de análise

.pull-left[

.center.font80[.bold[Qual o continente que registrou a maior temperatura anual?]]


```r
  continent_temperature %&gt;%
  dplyr::group_by(continent) %&gt;% 
  summarise(maior_temp = max(year_mean, na.rm = TRUE)) 
## # A tibble: 5 x 2
##   continent maior_temp
##   &lt;chr&gt;          &lt;dbl&gt;
## 1 Africa          30.3
## 2 Americas        29.0
## 3 Asia            29.7
## 4 Europe          20.3
## 5 Oceania         27.9
```


]

.pull-right[

.center.font80[.bold[Qual foi o ano com a maior média de temperatura registrada??]]


```r
  continent_temperature %&gt;%
    dplyr::group_by(dt, continent) %&gt;%
    dplyr::summarise(maior_temp = max(year_mean, na.rm = TRUE)) %&gt;%
    dplyr::arrange(desc(maior_temp)) %&gt;%
  head(5)
## # A tibble: 5 x 3
## # Groups:   dt [5]
##      dt continent maior_temp
##   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;
## 1  2000 Africa          30.3
## 2  2010 Africa          30.1
## 3  2012 Africa          29.9
## 4  2009 Africa          29.9
## 5  2011 Africa          29.8
```

]



&lt;!-- Fim da parte do R--&gt;

&lt;!-- Inicio da parte de Python--&gt;

---

class: title-slide
&lt;br&gt;&lt;br&gt;

# .center.font170[Introdução ao Python]
---
# Introdução ao Python

&lt;br&gt;&lt;br&gt;&lt;br&gt;
.font130[
Python é uma linguagem multiparadigma, com uma sintaxe muito simples que permite ao programador focar no problema e deixar de lado questões da linguagem.
]

&lt;br&gt;&lt;br&gt;

---
class: title-slide

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
# .font170[Comandos básicos da linguagem] 


---
# Comandos básicos da linguagem

.pull-left[

  ### Declarações de variáveis

  
  ```python
  inteiro = 123
  flutoante = 1.1234
  booleano = True
  lista = [1, 2, 3, 4, 5]
  dicionario = {'chave': 'valor'}
  string = 'Um texto legal'
  ```
]

.pull-right[
  ### Manipulação simples!

  
  ```python
  dicionario['chave']
  ## 'valor'
  lista[0:3] 
  ## [1, 2, 3]
  flutoante += 1 
  # 1.1234
  ```
]

---
# Estrutura de controle de decisão

As estruturas de controle de decisão facilitam o controle do fluxo que o código está tomando, representando parte importante da linguagem

.pull-left[
### if


```python
if (2 &gt; 1):
  print("Dois é maior que um!")
## Dois é maior que um!
```

### else


```python
if (2 &lt; 1):
  print('Dois é menor que um')
else:
  print('Dois é maior que um')
## Dois é maior que um
```

]

.pull-right[

&lt;br&gt;

### elif


```python
if (1 &gt; 1):
  print('Um é maior que um')
elif(1 &gt; 0.5):
  print('Um é maior que meio')
## Um é maior que meio
```
]

---
# Estrutura de repetição

Essas são estruturas que permitem a criação de laços, havendo facilmente repetição de um certo bloco de código, e ainda, permite iterações em estruturas de dados como as listas

.pull-left[
  ### while
  
  
  ```python
  i = 0
  while i &lt; 5:
    print(i)
    i += 1
  ## 0
  ## 1
  ## 2
  ## 3
  ## 4
  ```
]

.pull-right[
  ### for-each
  .pull-left[
    
    ```python
    for i in [1, 2, 3]:
      print(i)
    ## 1
    ## 2
    ## 3
    ```
  ]
  .pull-right[
    
    ```python
    for i in range(0, 3):
      print(i)
    ## 0
    ## 1
    ## 2
    ```
  ]
]

---
class: title-slide

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
# .center[.font170[Pandas] 🐼]

---
# Pandas 🐼

&lt;br&gt;&lt;br&gt;&lt;br&gt;
.font130[
Pandas é uma biblioteca open source, licenciada pelo BSD, que fornece estruturas de dados de alto desempenho e fáceis de usar e ferramentas de análise de dados para a linguagem de programação Python.
]

&lt;br&gt;

.bold[Para importar a biblioteca, utilize:]


```python
import pandas as pd
```

---
class: title-slide

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
# .font170[Estruturas de dados básicas do Pandas] 

---
# Estruturas de dados básicas do Pandas

.pull-left[
  ### Series
  
  - Estruturas unidimensionais;
    - Dados armazenados em linhas
  - Índice nas linhas;
  - Suporte a qualquer tipo de dados;
  - Exemplo de aplicação: Séries Temporais
] 

.pull-right[
  &lt;div style = "position:relative; left:160px; top: 60px;"&gt;
    &lt;img src="images/python/pd_series12.png"&gt;&lt;/img&gt;
  &lt;/div&gt;
]

---
# Estruturas de dados básicas do Pandas

.center[
.content-box-gray[.bold[Exemplos de utilização das Series]]
]

.pull-left[
  ### Criando uma Series simples
  
  ```python
  series = pd.Series([1, 2]) 
  print(series)
  ## 0    1
  ## 1    2
  ## dtype: int64
  ```
  
  ### Series com índice
  
  ```python
  series = pd.Series([1, 2], [9, 'ultimo'])
  print(series)
  ## 9         1
  ## ultimo    2
  ## dtype: int64
  ```
]

.pull-right[
  ### Recuperando valores

  A recuperação dos dados é muito parecida com as encontradas em dicionários (chave-valor).
  
  
  ```python
  print(series[9])
  ## 1
  print(series["ultimo"])
  ## 2
  ```
  
  
  ```python
  dicionario = {"Nome": "Maria"}
  print(dicionario["Nome"])
  ## Maria
  ```
]

---
# Estruturas de dados básicas do Pandas

.pull-left[
  ### DataFrames
  
  - Estruturas multidimensionais;
    - Dados armazenados em linhas e colunas.
  - Índice nas linhas e colunas;
  - Suporte a qualquer tipo de dados (Um diferente para cada coluna).
] 

.pull-right[
  &lt;div style = "position:relative; right:30px; top: -20px;"&gt;
    &lt;img src="images/python/pd_df13.png"&gt;&lt;/img&gt;
  &lt;/div&gt;
]

---
# Estruturas de dados básicas do Pandas

.center[
  .content-box-gray[.bold[Exemplos de utilização dos DataFrames]]
]

.pull-left[
  #### Criando um DataFrame básico
  
  
  ```python
  df = pd.DataFrame([[1, 2, 3, 4], [11, 12, 13, 14]])
  print(df)
  ##     0   1   2   3
  ## 0   1   2   3   4
  ## 1  11  12  13  14
  ```
  
  #### DataFrame com índice
  
  ```python
  df = pd.DataFrame([[1, 2, 3, 4], [11, 12, 13, 14]], 
                      index = ['um', 'dois'])
  print(df)
  ##        0   1   2   3
  ## um     1   2   3   4
  ## dois  11  12  13  14
  ```
]

.pull-right[
  #### Índices e colunas
  
  
  ```python
  df = pd.DataFrame([[1, 2, 3, 4], [11, 12, 13, 14]], 
                    index = ['um', 'dois'], 
                    columns = ['a', 'b', 'c', 'd'])
  print(df)
  ##        a   b   c   d
  ## um     1   2   3   4
  ## dois  11  12  13  14
  ```
  
  #### Recuperando valores
  
  .pull-left[
    
    ```python
    print(df['b']['um'])
    ## 2
    ```
  ]
  
  .pull-right[
    
    ```python
    print(df['a']['dois'])
    ## 11
    ```
  ]
]

---
class: title-slide

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
# .font140[Manipulação básica de dados com Pandas] 

&lt;!-- No slide após este, inserir uma figura mostrando o processo de manipulação dos dados. (Pegando de uma tabela completa e entendendo somente uma parte, filtro e etc...) --&gt;

---
# Manipulação básica de dados com Pandas

O pandas fornece uma infinidade de métodos para a seleção e filtro dos dados. Sendo todos úteis para o processo de análise de dados com Python

--
## loc e iloc

Para iniciar, os métodos `loc` e `iloc` podem ser bastante utilizados para tais processos.

&lt;br&gt;&lt;br&gt;
.center[
  | DataFrame                                  | Series                  |
  |--------------------------------------------|-------------------------|
  | \.loc[Nome da linha,  Nome da coluna]   | \.loc[Posição da linha] |
  | \.iloc[posição da linha, posição da coluna] | \.iloc[Nome da linha] |
]

---
# Manipulação básica de dados com Pandas

.center[
  .content-box-gray[.bold[Exemplo de utilização do loc e iloc]]
]

.pull-left[
  ### DataFrame de exemplo
  
  
  ```python
  df = pd.DataFrame({
    'nome': ['Joana', 'Maria', 'Josefa'],
    'idade': [15, 18, 21],
    'nota': [8, 9, 10]
  }, index = [7, 8, 9])
  ```

  Recuperando a linha de `nome` 9 e a coluna de nome `idade`.
  
  
  ```python
  print(df.loc[9, 'idade'])
  ## 21
  ```
]

.pull-right[
  É possível também recuperar mais de uma coluna ao mesmo tempo
  
  
  ```python
  print(df.loc[9, ['nome', 'idade']])
  ## nome     Josefa
  ## idade        21
  ## Name: 9, dtype: object
  ```
  
  Para recuperar as posições, utilize o `iloc`.
  
  
  ```python
  print(df.iloc[2][['nome', 'idade']])
  ## nome     Josefa
  ## idade        21
  ## Name: 9, dtype: object
  ```
]

---
# Filtro de dados

.center[
  .font135[Para muitas partes da análise de dados, realizar filtros e buscas é de extrema importância. No Pandas há diversos métodos que podem ser aplicados.]
]

.pull-left[
  #### DataFrame de exemplo
  
  
  ```python
  df = pd.DataFrame({
    'nome': ['A1', 'A2', 'A3', 'A4'],
    'valor': [5, 12, 8, 30]
  })
  ```
  
  #### filter

  Filtra os dados pelo nome da coluna
  
  
  ```python
  df.filter(items = ['A1', 'A4'])
  ## Empty DataFrame
  ## Columns: []
  ## Index: [0, 1, 2, 3]
  ```
]

.pull-right[
  Filtrando os dados por uma coluna que contenha no nome a palavra `lo`.
  
  
  ```python
  df.filter(like='lo', axis = 1)
  ##    valor
  ## 0      5
  ## 1     12
  ## 2      8
  ## 3     30
  ```
]

---
# Filtro de dados

.pull-left[
  #### Indexação booleana

  É possível fazer o filtro de dados com um índice booleano

  
  ```python
  df[[False, True, False, True]]
  ##   nome  valor
  ## 1   A2     12
  ## 3   A4     30
  ```
  
  A indexação pode ser feita de forma automática, com uma comparação lógica
  
  ```python
  df[df['valor'] &gt; 10]
  ##   nome  valor
  ## 1   A2     12
  ## 3   A4     30
  ```
]
  
.pull-right[
  &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
  
  Criando expressões mais `complexas`
  
  ```python
  df[(df['valor'] &gt;= 5) &amp; (df['valor'] &lt; 12)]
  ##   nome  valor
  ## 0   A1      5
  ## 2   A3      8
  ```
]

---
# Filtro de dados

.center[
  .content-box-gray[.bold[Dica: Filtragem e substituição (where)]]
]

&lt;br&gt;


```python
df_2 = df.copy()
df_2[df_2['valor'] &gt; 10] = -99; print(df_2)
##   nome  valor
## 0   A1      5
## 1  -99    -99
## 2   A3      8
## 3  -99    -99
```

Uma forma mais elegante, trabalhando com `where`

```python
df.where(df['valor'] &gt; 10, -99)
##   nome  valor
## 0  -99    -99
## 1   A2     12
## 2  -99    -99
## 3   A4     30
```

---
# Agrupamento e agregação

&lt;br&gt;&lt;br&gt;&lt;br&gt;
.font130[
Agrupar dados ajuda na análise dos dados, é através deste processo que técnicas de análise exploratória de dados e estatística descritiva podem ser feitos. Para tais atividades, utilizam-se os agrupamentos e agregações.
]

---
# Agrupamento e agregação

&lt;br&gt;
.font130[
Agregações são operações aplicadas sobre os dados que resultam em um conjunto de valores
]

&lt;br&gt;

.content-box-gray[.bold[Algumas funções de agregação]] <span>&lt;i class="fas  fa-hand-point-left faa-horizontal animated "&gt;&lt;/i&gt;</span>

- sum();
- max();
- min();
- mean().

---
# Agrupamento e agregação

.pull-left[
  ### Agregando `Series`

  
  ```python
  s = pd.Series([1, 2, 3])
  ```

  Calculando o somatório
  
  ```python
  s.sum()
  ## 6
  ```

  Valor mínimo
  
  ```python
  s.min()
  ## 1
  ```

]

.pull-right[
  ### Agregando `DataFrames`

  
  ```python
  df = pd.DataFrame([[1, 2, 3], [4, 5, 6]])
  ```

  Calculando o valor médio
  
  ```python
  df.mean()
  ## 0    2.5
  ## 1    3.5
  ## 2    4.5
  ## dtype: float64
  ```

  Valor máximo
  
  ```python
  df.max()
  ## 0    4
  ## 1    5
  ## 2    6
  ## dtype: int64
  ```
]

---
# Agrupamento e agregação

.center[
  No processo de agrupamento, os dados são agrupados com base em suas características. Para tal finalidade, o Pandas disponibiliza o método `groupby`.
]

.pull-left[
  ### Agrupando dados
  
  
  ```python
  df = pd.DataFrame({
    'nome': ['Tel1', 'Tel2', 'Tel3'],
    'tipo': ['antigo', 'novo', 'novo']
  })
  
  agrupado = df.groupby('tipo')
  ```
]

.pull-right[
  Tipo retornado
  
  
  ```python
  print(agrupado)
  ## &lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x7fe6082a3390&gt;
  ```
  
  Recuperando os grupos gerados
  
  ```python
  agrupado.groups
  ## {'antigo': Int64Index([0], dtype='int64'), 'novo': Int64Index([1, 2], dtype='int64')}
  ```
]

---
class: title-slide

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
# .center[.font170[Agrupamento + Agregação = ] <span>&lt;i class="fas  fa-trophy faa-tada animated "&gt;&lt;/i&gt;</span>]

---
# Agrupamento + Agregação

&lt;br&gt;

.center[
  ![](images/python/split-apply-combine.png)
]

---
# Agrupamento + Agregação

.center[
  .content-box-gray[.bold[Exemplo de utilização de agrupamento com agregação]]
]

.pull-left[
  
  ```python
  df = pd.DataFrame({
    'nome': ['ana', 'maria', 'felipe', 'joão'],
    'idade': [19, 19, 20, 20],
    'dinheiro': [150, 150, 100, 100]
  })
  ```
  
  Agrupando pela `idade` e contando os elementos
  
  
  ```python
  # Esta é a etapa de divir, da definição do Hedley
  agrupado = df.groupby('idade')
  
  ## Esta é a etapa de aplicação e junçaõ, definida pelo Hedley
  print(agrupado.count())
  ##        nome  dinheiro
  ## idade                
  ## 19        2         2
  ## 20        2         2
  ```
]

.pull-right[
  Média de dinheiro por idade
  
  
  ```python
  agrupado['dinheiro'].mean()
  ## idade
  ## 19    150
  ## 20    100
  ## Name: dinheiro, dtype: int64
  ```
  
  A idade que recebe mais dinheiro
  
  
  ```python
  agrupado['dinheiro'].sum()
  ## idade
  ## 19    300
  ## 20    200
  ## Name: dinheiro, dtype: int64
  ```
]

---
class: title-slide

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
# .center[.font170[Leitura de dados] <span>&lt;i class="fas  fa-book faa-vertical animated "&gt;&lt;/i&gt;</span>]

---
# Leitura de dados

.center[
  Com o Pandas é possível não só realizar o processamento dos dados, mas também a leitura e escrita destes. A biblioteca suporta diversos formatos, sendo alguns deles `CSV`, `JSON` e `Excel`.
]

.pull-left[
  ### Carregando arquivo `CSV`
  
  ```python
  data = pd.read_csv("data/titanic.csv", sep = ',')
  ```

  Os dados carregados convergem para `Series` e `DataFrames`.

  
  ```python
  type(data)
  ## &lt;class 'pandas.core.frame.DataFrame'&gt;
  ```
]

.pull-right[
  ### Salvando os dados em `CSV`

  
  ```python
  data.to_csv('data/resultados.csv')
  ```
]

&lt;!-- ##### Fim da parte de Python #####   --&gt;
---

class: title-slide

&lt;!-- ##### Inicio da parte de visualização ##### --&gt;

&lt;br&gt;&lt;br&gt;

# .center.font170[Visualização de dados em .bold[R]]
---
# Pacote de visualização - .bold[ggplot2]

## .bold[.blue[ggplot2]] é um pacote R criado pelo Hadley Wickham, a sintaxe se baseia na obra .bold[The Grammar of Graphics]. O mapeamento dos atributos é chamado de .bold[aesthetics]. O esqueleto pode ser escrito assim:


.pull-left[

.center.font100[The Grammar of Graphics]

&lt;img src="./images/2_r_img/ggplot-2.png" width="70%" height="70%" style="display: block; margin: auto;" /&gt;

]

--

.pull-right[

.center.font100[Sintaxe do ggplot2]



```r
   ggplot(data = &lt;DATA&gt;, aes(&lt;MAPPINGS&gt;)) + 
    &lt;GEOM_FUNCTION&gt;(
      mapping = aes(&lt;MAPPINGS&gt;),
      stat = &lt;STAT&gt;,
      position = &lt;POSITION&gt;) +
    &lt;COORDINATE_FUNCTION&gt; +
    &lt;FACET_FUNCTION&gt;
```

]

---
# Mapeamento estético
&lt;br&gt;
.center[
&lt;img src="./images/2_r_img/aes_ggplot.png" width="80%" height="80%" style="display: block; margin: auto;" /&gt;
.center.font80[Fundamentals of Data Visualization - Claus O. Wilke]
]
---
# Objetos geométricos
.center[
&lt;img src="./images/2_r_img/ggplot.png" width="38%" height="38%" style="display: block; margin: auto;" /&gt;

.center.font60[Fundamentals of Data Visualization - Claus O. Wilke]
]
---
# Exemplo - Gráfico de dispersão


.pull-left[

.center.font100[Mapeamento estético]


```r
  library(ggplot2)

  ggplot(iris, aes(x = Petal.Width, y = Petal.Length, color = Species))
```

&lt;img src="apresencao_final_files/figure-html/unnamed-chunk-102-1.png" style="display: block; margin: auto;" /&gt;
]

--

.pull-right[

.center.font100[Objeto geométrico]


```r
  ggplot(iris, aes(x = Petal.Width, y = Petal.Length, color = Species)) + 
  geom_point() 
```

&lt;img src="apresencao_final_files/figure-html/unnamed-chunk-103-1.png" style="display: block; margin: auto;" /&gt;
]

---
# Exemplo - Gráfico de colunas

.pull-left[

.center.font100[Mapeamento estético e objeto geométrico]


```r
ggplot(data = diamonds) + 
  stat_count(mapping = aes(x = cut))
```

&lt;img src="apresencao_final_files/figure-html/unnamed-chunk-104-1.png" style="display: block; margin: auto;" /&gt;

]

--
.pull-right[
.center.font100[Sistema de coordenadas]


```r
ggplot(data = diamonds) + 
  stat_count(mapping = aes(x = cut)) + 
  coord_flip()
```

&lt;img src="apresencao_final_files/figure-html/unnamed-chunk-105-1.png" style="display: block; margin: auto;" /&gt;

]

---
# Exemplo - Gráfico de coordenadas paralelas

.pull-left[


```r
  iris %&gt;% dplyr::mutate(id = 1:nrow(iris)) %&gt;% 
    tidyr::gather(atributos, valores, -Species, -id) %&gt;% 
    ggplot(., aes(x = atributos, y = valores, color = Species, group = id)) + 
  geom_line(size=0.55) +
  labs(x       = "Atributos",
       y       = "Valores", 
       title   = "Coordenadas Paralelas - Iris",
       caption = "Fonte: dataAt") + 
    theme_bw() +
    theme(plot.title = element_text(hjust= 0.5, margin = margin(b = 7))) 
```

]


.pull-right[

&lt;img src="apresencao_final_files/figure-html/unnamed-chunk-107-1.png" style="display: block; margin: auto;" /&gt;

]
---
# Exemplo - Gráfico de coordenadas paralelas

.pull-left[

```r
  iris %&gt;% dplyr::mutate(id = 1:nrow(iris)) %&gt;%
    tidyr::gather(atributos, valores, -Species, -id) %&gt;%
    ggplot(., aes(x = atributos, y = valores, color = Species, group = id)) + 
    geom_line(size=0.55) +
    facet_grid(~Species) + 
    labs(x     = "Atributos",
         y     = "Valores", 
         title = "Coordenadas Paralelas - Iris") +
    theme_bw() + 
    theme(plot.title = element_text(hjust= 0.5, margin = margin(b = 7)), axis.text.x = element_text(angle = 90)) 
```

]


.pull-right[
&lt;img src="apresencao_final_files/figure-html/unnamed-chunk-109-1.png" style="display: block; margin: auto;" /&gt;

]


---
class: title-slide
&lt;br&gt;&lt;br&gt;



.center.font300[Extensões do ggplot]
---
# Lemon package


.pull-left[

```r
amost_diam %&gt;%
  ggplot(., aes(x = as.factor(cut), y = price, color = clarity)) + 
  geom_point(position=position_jitter(width=0.08)) + 
  coord_flex_cart(bottom=brackets_horisontal(), left=capped_vertical('both')) +
  theme_light() +
  theme(panel.border=element_blank(), axis.line = element_line(),
        plot.title = element_text(hjust= 0.5, margin = margin(b = 7))) + 
  labs(x     = "Qualidade do corte",
       y     = "Preço em US",
       title = "Gráfico de bolhas - Diamonds")
```
]

.pull-right[
&lt;img src="apresencao_final_files/figure-html/unnamed-chunk-112-1.png" style="display: block; margin: auto;" /&gt;
]



---

class: title-slide
&lt;br&gt;&lt;br&gt;



.center.font300[Obrigado!]


&lt;!-- Fim da parte de visualização--&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
